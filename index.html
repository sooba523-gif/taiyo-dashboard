<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãŸã„ã‚ˆã†é›†å®¢æˆ¦ç•¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ 2025-2026</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #eff6ff, #e0e7ff);
      padding: 20px;
      min-height: 100vh;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    .header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-bottom: 24px;
    }
    .header h1 { font-size: 28px; color: #1f2937; margin-bottom: 8px; }
    .header p { color: #6b7280; }
    
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    .kpi-card {
      padding: 24px;
      border-radius: 12px;
      color: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .kpi-card.blue { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .kpi-card.green { background: linear-gradient(135deg, #10b981, #059669); }
    .kpi-card.purple { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
    .kpi-card.orange { background: linear-gradient(135deg, #f59e0b, #d97706); }
    .kpi-label { font-size: 14px; opacity: 0.9; margin-bottom: 8px; }
    .kpi-value { font-size: 32px; font-weight: bold; margin-bottom: 4px; }
    .kpi-sub { font-size: 13px; opacity: 0.85; }
    
    .tabs {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      overflow: hidden;
      margin-bottom: 24px;
    }
    .tab-buttons {
      display: flex;
      border-bottom: 1px solid #e5e7eb;
      overflow-x: auto;
    }
    .tab-button {
      padding: 16px 24px;
      border: none;
      background: none;
      cursor: pointer;
      font-size: 15px;
      font-weight: 500;
      color: #6b7280;
      border-bottom: 2px solid transparent;
      white-space: nowrap;
      transition: all 0.2s;
    }
    .tab-button:hover { background: #f9fafb; color: #374151; }
    .tab-button.active {
      color: #2563eb;
      border-bottom-color: #2563eb;
      background: #eff6ff;
    }
    .tab-content { padding: 24px; display: none; }
    .tab-content.active { display: block; }
    
    .chart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
      gap: 24px;
      margin-bottom: 24px;
    }
    .chart-card {
      background: #f9fafb;
      padding: 20px;
      border-radius: 8px;
    }
    .chart-card h3 { font-size: 18px; margin-bottom: 8px; color: #1f2937; }
    .chart-card p { font-size: 14px; color: #6b7280; margin-bottom: 16px; }
    
    .alert {
      background: #fff7ed;
      border-left: 4px solid #f59e0b;
      padding: 20px;
      border-radius: 8px;
      margin-top: 24px;
    }
    .alert h4 { color: #92400e; margin-bottom: 12px; font-size: 16px; }
    .alert p { color: #78350f; margin-bottom: 12px; }
    .alert ul { color: #78350f; font-size: 14px; margin-left: 20px; }
    .alert li { margin-bottom: 6px; }
    
    .footer {
      background: white;
      padding: 16px;
      border-radius: 12px;
      text-align: center;
      color: #6b7280;
      font-size: 14px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .channel-list { display: flex; flex-direction: column; gap: 12px; }
    .channel-item {
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .channel-item:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .channel-item.highlight { background: #fff7ed; border-color: #fb923c; }
    .channel-header { display: flex; align-items: center; gap: 12px; }
    .channel-color { width: 16px; height: 16px; border-radius: 50%; flex-shrink: 0; }
    .channel-info { flex: 1; }
    .channel-name { font-weight: 600; color: #1f2937; margin-bottom: 4px; }
    .channel-stats { font-size: 14px; color: #6b7280; }
    
    @media (max-width: 768px) {
      .chart-grid { grid-template-columns: 1fr; }
      .kpi-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ãŸã„ã‚ˆã†é›†å®¢æˆ¦ç•¥ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
      <p>2025å¹´10æœˆã€œ2026å¹´9æœˆ | å…¥å±…ç‡100%é”æˆè¨ˆç”»</p>
    </div>

    <div class="kpi-grid">
      <div class="kpi-card blue">
        <div class="kpi-label">å¹´é–“ç›®æ¨™</div>
        <div class="kpi-value">594å</div>
        <div class="kpi-sub">æ˜¨å¹´æ¯”: +137å (+30%)</div>
      </div>
      <div class="kpi-card green">
        <div class="kpi-label">ç·äºˆç®—</div>
        <div class="kpi-value">42.2ç™¾ä¸‡å††</div>
        <div class="kpi-sub">æ˜¨å¹´: 37.2ç™¾ä¸‡å†† (+13%)</div>
      </div>
      <div class="kpi-card purple">
        <div class="kpi-label">å¹³å‡CPA</div>
        <div class="kpi-value">7.1ä¸‡å††</div>
        <div class="kpi-sub">æ˜¨å¹´: 8.1ä¸‡å†† (-12%æ”¹å–„)</div>
      </div>
      <div class="kpi-card orange">
        <div class="kpi-label">æ©Ÿä¼šæå¤±å‰Šæ¸›</div>
        <div class="kpi-value">1.2-2å„„å††</div>
        <div class="kpi-sub">ç©ºå®¤ç‡: 3-5%å‰Šæ¸›</div>
      </div>
    </div>

    <div class="tabs">
      <div class="tab-buttons">
        <button class="tab-button active" onclick="switchTab(0)">å…¨ä½“æ¦‚è¦</button>
        <button class="tab-button" onclick="switchTab(1)">ãƒãƒ£ãƒãƒ«è©³ç´°</button>
        <button class="tab-button" onclick="switchTab(2)">å››åŠæœŸè¨ˆç”»</button>
        <button class="tab-button" onclick="switchTab(3)">è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢</button>
        <button class="tab-button" onclick="switchTab(4)">ãƒªã‚¹ã‚¯ç®¡ç†</button>
      </div>

      <!-- Tab 0: å…¨ä½“æ¦‚è¦ -->
      <div class="tab-content active">
        <div class="chart-grid">
          <div class="chart-card">
            <h3>2025-2026å¹´åº¦ ç›®æ¨™ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª</h3>
            <p>ç·è¨ˆ: 594å | ç·äºˆç®—: 42.2ç™¾ä¸‡å†† | å¹³å‡CPA: 7.1ä¸‡å††</p>
            <canvas id="pieTarget"></canvas>
          </div>
          <div class="chart-card">
            <h3>2024-2025å¹´åº¦ å®Ÿç¸¾ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª</h3>
            <p>ç·è¨ˆ: 457å | ç·äºˆç®—: 37.2ç™¾ä¸‡å†† | å¹³å‡CPA: 8.1ä¸‡å††</p>
            <canvas id="pieLastYear"></canvas>
          </div>
        </div>
        <div class="chart-card">
          <h3>æ˜¨å¹´æ¯”è¼ƒï¼ˆå…¥å±…ç²å¾—æ•°ï¼‰</h3>
          <canvas id="barComparison"></canvas>
        </div>
        <div class="alert">
          <h4>ğŸ¯ æœ€é‡è¦æ–½ç­–</h4>
          <p><strong>è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢çµŒç”±ã®å…¥å±…ç²å¾—ã‚’27åâ†’100åï¼ˆ3.7å€ï¼‰ã«å¢—åŠ </strong></p>
          <ul>
            <li>HPæ”¹ä¿®å®Œäº†ï¼ˆ10æœˆæœ«ï¼‰- ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ãƒ»å£ã‚³ãƒŸãƒ»æ¤œç´¢ãƒãƒ¼å®Ÿè£…æ¸ˆ</li>
            <li>AIãƒãƒ£ãƒƒãƒˆå®Ÿè£…ï¼ˆ11æœˆæœ«ï¼‰</li>
            <li>LINEé‹ç”¨é–‹å§‹ï¼ˆ12æœˆ14æ—¥ï¼‰</li>
            <li>Instagramé‹ç”¨é–‹å§‹ï¼ˆ12æœˆæœ«ï¼‰</li>
          </ul>
        </div>
      </div>

      <!-- Tab 1: ãƒãƒ£ãƒãƒ«è©³ç´° -->
      <div class="tab-content">
        <div class="channel-list" id="channelList"></div>
      </div>

      <!-- Tab 2: å››åŠæœŸè¨ˆç”» -->
      <div class="tab-content">
        <div class="chart-card">
          <h3>å››åŠæœŸåˆ¥å…¥å±…ç²å¾—ç›®æ¨™</h3>
          <canvas id="barQuarterly"></canvas>
        </div>
      </div>

      <!-- Tab 3: è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢ -->
      <div class="tab-content">
        <div class="alert" style="background: linear-gradient(135deg, #f59e0b, #d97706); border: none; color: white;">
          <h4 style="color: white;">è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢æˆé•·è¨ˆç”»</h4>
          <p style="color: rgba(255,255,255,0.9);">27å â†’ 100åï¼ˆ3.7å€æˆé•·ï¼‰</p>
        </div>
        <div class="chart-card" style="margin-top: 24px;">
          <h3>æœˆæ¬¡æ¨ç§»äºˆæ¸¬</h3>
          <canvas id="lineOwnMedia"></canvas>
        </div>
      </div>

      <!-- Tab 4: ãƒªã‚¹ã‚¯ç®¡ç† -->
      <div class="tab-content">
        <div class="alert" style="background: #fef2f2; border-left-color: #ef4444;">
          <h4 style="color: #991b1b;">ãƒªã‚¹ã‚¯ã‚·ãƒŠãƒªã‚ªï¼šè‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢ãŒç›®æ¨™ã®50%</h4>
          <p style="color: #7f1d1d;">
            æƒ³å®šçŠ¶æ³: è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢50åï¼ˆç›®æ¨™æ¯”-50åï¼‰<br>
            å…¥å±…ç‡ã¸ã®å½±éŸ¿: 96%ï¼ˆæœ€ä½ãƒ©ã‚¤ãƒ³95%ã¯ã‚¯ãƒªã‚¢ï¼‰<br>
            çµŒå–¶ãƒªã‚¹ã‚¯: ä½ï¼ˆèµ¤å­—åŒ–ã®æ‡¸å¿µãªã—ï¼‰
          </p>
          <h4 style="color: #991b1b; margin-top: 16px;">æ¨å¥¨è£œå®Œç­–ï¼šCPAåŠ¹ç‡é‡è¦–</h4>
          <ul style="color: #7f1d1d;">
            <li>LIFULLä»‹è­· +25åï¼ˆ132.5ä¸‡å††ã€CPA: 5.3ä¸‡å††ï¼‰</li>
            <li>ã¿ã‚“ãªã®ä»‹è­· +25åï¼ˆ217.5ä¸‡å††ã€CPA: 8.7ä¸‡å††ï¼‰</li>
            <li>è¿½åŠ äºˆç®—åˆè¨ˆ: 350ä¸‡å††</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer">
      æœ€çµ‚æ›´æ–°: 2025å¹´10æœˆ15æ—¥ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: kintone, BigQueryåˆ†æçµæœ
    </div>
  </div>

  <script>
    // ãƒ‡ãƒ¼ã‚¿å®šç¾©
    const channels = [
      { name: 'ã¿ã‚“ãªã®ä»‹è­·', target: 153, lastYear: 123, cpa: 8.7, budget: 1331, color: '#3b82f6' },
      { name: 'CMãƒ»SWãƒ»è€å¥', target: 131, lastYear: 121, cpa: 5.6, budget: 734, color: '#10b981' },
      { name: 'è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢', target: 100, lastYear: 27, cpa: 5.5, budget: 550, color: '#f59e0b' },
      { name: 'ç´¹ä»‹ä¼šç¤¾', target: 88, lastYear: 90, cpa: 17.5, budget: 1540, color: '#ef4444' },
      { name: 'LIFULLä»‹è­·', target: 46, lastYear: 37, cpa: 5.3, budget: 244, color: '#8b5cf6' },
      { name: 'æ–°èæŠ˜è¾¼', target: 28, lastYear: 21, cpa: 19.8, budget: 554, color: '#ec4899' },
      { name: 'ãã®ä»–', target: 48, lastYear: 38, cpa: 0, budget: 0, color: '#6b7280' }
    ];

    const sortedTarget = [...channels].filter(c => c.name !== 'ãã®ä»–').sort((a,b) => b.target - a.target).concat(channels.filter(c => c.name === 'ãã®ä»–'));
    const sortedLastYear = [...channels].filter(c => c.name !== 'ãã®ä»–').sort((a,b) => b.lastYear - a.lastYear).concat(channels.filter(c => c.name === 'ãã®ä»–'));

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    function switchTab(index) {
      document.querySelectorAll('.tab-button').forEach((btn, i) => {
        btn.classList.toggle('active', i === index);
      });
      document.querySelectorAll('.tab-content').forEach((content, i) => {
        content.classList.toggle('active', i === index);
      });
    }

    // å††ã‚°ãƒ©ãƒ•ï¼ˆç›®æ¨™ï¼‰
    new Chart(document.getElementById('pieTarget'), {
      type: 'pie',
      data: {
        labels: sortedTarget.map(c => c.name),
        datasets: [{
          data: sortedTarget.map(c => c.target),
          backgroundColor: sortedTarget.map(c => c.color)
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          tooltip: {
            callbacks: {
              label: (context) => {
                const label = context.label || '';
                const value = context.parsed || 0;
                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                const percent = ((value / total) * 100).toFixed(1);
                return `${label}: ${value}å (${percent}%)`;
              }
            }
          }
        }
      }
    });

    // å††ã‚°ãƒ©ãƒ•ï¼ˆå®Ÿç¸¾ï¼‰
    new Chart(document.getElementById('pieLastYear'), {
      type: 'pie',
      data: {
        labels: sortedLastYear.map(c => c.name),
        datasets: [{
          data: sortedLastYear.map(c => c.lastYear),
          backgroundColor: sortedLastYear.map(c => c.color)
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' },
          tooltip: {
            callbacks: {
              label: (context) => {
                const label = context.label || '';
                const value = context.parsed || 0;
                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                const percent = ((value / total) * 100).toFixed(1);
                return `${label}: ${value}å (${percent}%)`;
              }
            }
          }
        }
      }
    });

    // æ£’ã‚°ãƒ©ãƒ•ï¼ˆæ¯”è¼ƒï¼‰
    new Chart(document.getElementById('barComparison'), {
      type: 'bar',
      data: {
        labels: channels.map(c => c.name),
        datasets: [
          {
            label: 'æ˜¨å¹´',
            data: channels.map(c => c.lastYear),
            backgroundColor: '#94a3b8'
          },
          {
            label: 'ç›®æ¨™',
            data: channels.map(c => c.target),
            backgroundColor: '#3b82f6'
          }
        ]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true }
        }
      }
    });

    // æ£’ã‚°ãƒ©ãƒ•ï¼ˆå››åŠæœŸï¼‰
    new Chart(document.getElementById('barQuarterly'), {
      type: 'bar',
      data: {
        labels: ['Q1 (10-12æœˆ)', 'Q2 (1-3æœˆ)', 'Q3 (4-6æœˆ)', 'Q4 (7-9æœˆ)'],
        datasets: [
          { label: 'è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢', data: [15, 21, 27, 37], backgroundColor: '#f59e0b' },
          { label: 'ã¿ã‚“ãªã®ä»‹è­·', data: [36, 38, 39, 40], backgroundColor: '#3b82f6' },
          { label: 'CMãƒ»SW', data: [31, 33, 33, 34], backgroundColor: '#10b981' },
          { label: 'ç´¹ä»‹ä¼šç¤¾', data: [22, 22, 22, 22], backgroundColor: '#ef4444' },
          { label: 'LIFULL', data: [11, 11, 12, 12], backgroundColor: '#8b5cf6' },
          { label: 'æ–°è', data: [7, 7, 7, 7], backgroundColor: '#ec4899' },
          { label: 'ãã®ä»–', data: [12, 12, 12, 12], backgroundColor: '#6b7280' }
        ]
      },
      options: {
        responsive: true,
        scales: {
          x: { stacked: true },
          y: { stacked: true, beginAtZero: true }
        }
      }
    });

    // æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆè‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢ï¼‰
    new Chart(document.getElementById('lineOwnMedia'), {
      type: 'line',
      data: {
        labels: ['ç¾åœ¨', '12æœˆ', '3æœˆ', '6æœˆ', '9æœˆ'],
        datasets: [
          {
            label: 'å•ã„åˆã‚ã›æ•°',
            data: [11.7, 18, 24, 30, 36],
            borderColor: '#3b82f6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            tension: 0.4
          },
          {
            label: 'å…¥å±…ç²å¾—æ•°',
            data: [2.7, 5, 7, 9, 12],
            borderColor: '#f59e0b',
            backgroundColor: 'rgba(245, 158, 11, 0.1)',
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true }
        }
      }
    });

    // ãƒãƒ£ãƒãƒ«ãƒªã‚¹ãƒˆä½œæˆ
    const channelListEl = document.getElementById('channelList');
    channels.forEach(ch => {
      const item = document.createElement('div');
      item.className = 'channel-item' + (ch.name === 'è‡ªç¤¾ãƒ¡ãƒ‡ã‚£ã‚¢' ? ' highlight' : '');
      item.innerHTML = `
        <div class="channel-header">
          <div class="channel-color" style="background-color: ${ch.color}"></div>
          <div class="channel-info">
            <div class="channel-name">${ch.name}</div>
            <div class="channel-stats">
              ç›®æ¨™: ${ch.target}å | CPA: ${ch.cpa}ä¸‡å†† | äºˆç®—: ${ch.budget}ä¸‡å†† | æ˜¨å¹´: ${ch.lastYear}å (${ch.target > ch.lastYear ? '+' : ''}${((ch.target / ch.lastYear - 1) * 100).toFixed(0)}%)
            </div>
          </div>
        </div>
      `;
      channelListEl.appendChild(item);
    });
  </script>
</body>
</html>